/**
 * ðŸŽ¯ EXTENDED SPANISH FREQUENCY WORDS (1000+ Most Common Words)
 * Organized by CEFR levels with proper frequency rankings
 * Used for adaptive content matching and difficulty calculation
 */

// TOP 500 WORDS (A1-A2 Level)
exports.ULTRA_HIGH_FREQUENCY = {
  // Rank 1-20 (A1 - Absolute Beginner)
  A1_ULTRA: [
    { word: 'no', rank: 1, translation: 'no', level: 'A1' },
    { word: 'sÃ­', rank: 2, translation: 'yes', level: 'A1' },
    { word: 'hola', rank: 3, translation: 'hello', level: 'A1' },
    { word: 'yo', rank: 4, translation: 'I', level: 'A1' },
    { word: 'quÃ©', rank: 5, translation: 'what', level: 'A1' },
    { word: 'porque', rank: 6, translation: 'because', level: 'A1' },
    { word: 'cÃ³mo', rank: 7, translation: 'how', level: 'A1' },
    { word: 'muy', rank: 8, translation: 'very', level: 'A1' },
    { word: 'bueno', rank: 9, translation: 'good/well', level: 'A1' },
    { word: 'gracias', rank: 10, translation: 'thank you', level: 'A1' },
    { word: 'por favor', rank: 11, translation: 'please', level: 'A1' },
    { word: 'perdÃ³n', rank: 12, translation: 'sorry', level: 'A1' },
    { word: 'quiero', rank: 13, translation: 'I want', level: 'A1' },
    { word: 'tengo', rank: 14, translation: 'I have', level: 'A1' },
    { word: 'estoy', rank: 15, translation: 'I am', level: 'A1' },
    { word: 'es', rank: 16, translation: 'is', level: 'A1' },
    { word: 'no sÃ©', rank: 17, translation: 'I don\'t know', level: 'A1' },
    { word: 'me gusta', rank: 18, translation: 'I like', level: 'A1' },
    { word: 'voy', rank: 19, translation: 'I go', level: 'A1' },
    { word: 'casa', rank: 20, translation: 'house/home', level: 'A1' }
  ],
  
  // Rank 21-100 (A1 Continued)
  A1_HIGH: [
    { word: 'de', rank: 21, translation: 'of/from', level: 'A1' },
    { word: 'el', rank: 22, translation: 'the', level: 'A1' },
    { word: 'la', rank: 23, translation: 'the', level: 'A1' },
    { word: 'en', rank: 24, translation: 'in/on', level: 'A1' },
    { word: 'y', rank: 25, translation: 'and', level: 'A1' },
    { word: 'a', rank: 26, translation: 'to/at', level: 'A1' },
    { word: 'que', rank: 27, translation: 'that/which', level: 'A1' },
    { word: 'un', rank: 28, translation: 'a/an', level: 'A1' },
    { word: 'ser', rank: 29, translation: 'to be', level: 'A1' },
    { word: 'estar', rank: 30, translation: 'to be', level: 'A1' },
    { word: 'tener', rank: 31, translation: 'to have', level: 'A1' },
    { word: 'hacer', rank: 32, translation: 'to do/make', level: 'A1' },
    { word: 'poder', rank: 33, translation: 'can/to be able', level: 'A1' },
    { word: 'ir', rank: 34, translation: 'to go', level: 'A1' },
    { word: 'ver', rank: 35, translation: 'to see', level: 'A1' },
    { word: 'dar', rank: 36, translation: 'to give', level: 'A1' },
    { word: 'saber', rank: 37, translation: 'to know', level: 'A1' },
    { word: 'querer', rank: 38, translation: 'to want', level: 'A1' },
    { word: 'llegar', rank: 39, translation: 'to arrive', level: 'A1' },
    { word: 'pasar', rank: 40, translation: 'to pass/happen', level: 'A1' },
    { word: 'deber', rank: 41, translation: 'should/must', level: 'A1' },
    { word: 'poner', rank: 42, translation: 'to put', level: 'A1' },
    { word: 'parecer', rank: 43, translation: 'to seem', level: 'A1' },
    { word: 'quedar', rank: 44, translation: 'to stay/remain', level: 'A1' },
    { word: 'creer', rank: 45, translation: 'to believe', level: 'A1' },
    { word: 'hablar', rank: 46, translation: 'to speak', level: 'A1' },
    { word: 'llevar', rank: 47, translation: 'to carry/wear', level: 'A1' },
    { word: 'dejar', rank: 48, translation: 'to leave/let', level: 'A1' },
    { word: 'sentir', rank: 49, translation: 'to feel', level: 'A1' },
    { word: 'tomar', rank: 50, translation: 'to take', level: 'A1' },
    { word: 'cosa', rank: 51, translation: 'thing', level: 'A1' },
    { word: 'dÃ­a', rank: 52, translation: 'day', level: 'A1' },
    { word: 'aÃ±o', rank: 53, translation: 'year', level: 'A1' },
    { word: 'persona', rank: 54, translation: 'person', level: 'A1' },
    { word: 'tiempo', rank: 55, translation: 'time/weather', level: 'A1' },
    { word: 'vida', rank: 56, translation: 'life', level: 'A1' },
    { word: 'hombre', rank: 57, translation: 'man', level: 'A1' },
    { word: 'mujer', rank: 58, translation: 'woman', level: 'A1' },
    { word: 'niÃ±o', rank: 59, translation: 'child/boy', level: 'A1' },
    { word: 'agua', rank: 60, translation: 'water', level: 'A1' },
    { word: 'padre', rank: 61, translation: 'father', level: 'A1' },
    { word: 'madre', rank: 62, translation: 'mother', level: 'A1' },
    { word: 'hijo', rank: 63, translation: 'son', level: 'A1' },
    { word: 'hermano', rank: 64, translation: 'brother', level: 'A1' },
    { word: 'amigo', rank: 65, translation: 'friend', level: 'A1' },
    { word: 'comida', rank: 66, translation: 'food', level: 'A1' },
    { word: 'comer', rank: 67, translation: 'to eat', level: 'A1' },
    { word: 'beber', rank: 68, translation: 'to drink', level: 'A1' },
    { word: 'grande', rank: 69, translation: 'big', level: 'A1' },
    { word: 'pequeÃ±o', rank: 70, translation: 'small', level: 'A1' },
    { word: 'nuevo', rank: 71, translation: 'new', level: 'A1' },
    { word: 'viejo', rank: 72, translation: 'old', level: 'A1' },
    { word: 'bueno', rank: 73, translation: 'good', level: 'A1' },
    { word: 'malo', rank: 74, translation: 'bad', level: 'A1' },
    { word: 'mucho', rank: 75, translation: 'much/many', level: 'A1' },
    { word: 'poco', rank: 76, translation: 'little/few', level: 'A1' },
    { word: 'todo', rank: 77, translation: 'all/everything', level: 'A1' },
    { word: 'mismo', rank: 78, translation: 'same', level: 'A1' },
    { word: 'tambiÃ©n', rank: 79, translation: 'also', level: 'A1' },
    { word: 'ahora', rank: 80, translation: 'now', level: 'A1' },
    { word: 'aquÃ­', rank: 81, translation: 'here', level: 'A1' },
    { word: 'donde', rank: 82, translation: 'where', level: 'A1' },
    { word: 'cuando', rank: 83, translation: 'when', level: 'A1' },
    { word: 'mÃ¡s', rank: 84, translation: 'more', level: 'A1' },
    { word: 'menos', rank: 85, translation: 'less', level: 'A1' },
    { word: 'pero', rank: 86, translation: 'but', level: 'A1' },
    { word: 'o', rank: 87, translation: 'or', level: 'A1' },
    { word: 'si', rank: 88, translation: 'if', level: 'A1' },
    { word: 'bien', rank: 89, translation: 'well', level: 'A1' },
    { word: 'otro', rank: 90, translation: 'other', level: 'A1' },
    { word: 'primero', rank: 91, translation: 'first', level: 'A1' },
    { word: 'Ãºltimo', rank: 92, translation: 'last', level: 'A1' },
    { word: 'segundo', rank: 93, translation: 'second', level: 'A1' },
    { word: 'ademÃ¡s', rank: 94, translation: 'besides', level: 'A1' },
    { word: 'despuÃ©s', rank: 95, translation: 'after', level: 'A1' },
    { word: 'antes', rank: 96, translation: 'before', level: 'A1' },
    { word: 'durante', rank: 97, translation: 'during', level: 'A1' },
    { word: 'siempre', rank: 98, translation: 'always', level: 'A1' },
    { word: 'nunca', rank: 99, translation: 'never', level: 'A1' },
    { word: 'todavÃ­a', rank: 100, translation: 'still/yet', level: 'A1' }
  ],
  
  // Rank 101-300 (A2 Level)
  A2_MID: [
    { word: 'encontrar', rank: 101, translation: 'to find', level: 'A2' },
    { word: 'pensar', rank: 102, translation: 'to think', level: 'A2' },
    { word: 'llamar', rank: 103, translation: 'to call', level: 'A2' },
    { word: 'venir', rank: 104, translation: 'to come', level: 'A2' },
    { word: 'conocer', rank: 105, translation: 'to know/meet', level: 'A2' },
    { word: 'salir', rank: 106, translation: 'to leave/go out', level: 'A2' },
    { word: 'volver', rank: 107, translation: 'to return', level: 'A2' },
    { word: 'tomar', rank: 108, translation: 'to take', level: 'A2' },
    { word: 'comenzar', rank: 109, translation: 'to begin', level: 'A2' },
    { word: 'seguir', rank: 110, translation: 'to follow/continue', level: 'A2' },
    { word: 'conseguir', rank: 111, translation: 'to get/achieve', level: 'A2' },
    { word: 'necesitar', rank: 112, translation: 'to need', level: 'A2' },
    { word: 'buscar', rank: 113, translation: 'to look for', level: 'A2' },
    { word: 'trabajar', rank: 114, translation: 'to work', level: 'A2' },
    { word: 'vivir', rank: 115, translation: 'to live', level: 'A2' },
    { word: 'esperar', rank: 116, translation: 'to wait/hope', level: 'A2' },
    { word: 'comprar', rank: 117, translation: 'to buy', level: 'A2' },
    { word: 'escribir', rank: 118, translation: 'to write', level: 'A2' },
    { word: 'leer', rank: 119, translation: 'to read', level: 'A2' },
    { word: 'aprender', rank: 120, translation: 'to learn', level: 'A2' },
    { word: 'abrir', rank: 121, translation: 'to open', level: 'A2' },
    { word: 'cerrar', rank: 122, translation: 'to close', level: 'A2' },
    { word: 'entrar', rank: 123, translation: 'to enter', level: 'A2' },
    { word: 'ciudad', rank: 124, translation: 'city', level: 'A2' },
    { word: 'paÃ­s', rank: 125, translation: 'country', level: 'A2' },
    { word: 'mundo', rank: 126, translation: 'world', level: 'A2' },
    { word: 'lugar', rank: 127, translation: 'place', level: 'A2' },
    { word: 'calle', rank: 128, translation: 'street', level: 'A2' },
    { word: 'mesa', rank: 129, translation: 'table', level: 'A2' },
    { word: 'coche', rank: 130, translation: 'car', level: 'A2' },
    { word: 'puerta', rank: 131, translation: 'door', level: 'A2' },
    { word: 'ventana', rank: 132, translation: 'window', level: 'A2' },
    { word: 'telÃ©fono', rank: 133, translation: 'phone', level: 'A2' },
    { word: 'dinero', rank: 134, translation: 'money', level: 'A2' },
    { word: 'trabajo', rank: 135, translation: 'work/job', level: 'A2' },
    { word: 'escuela', rank: 136, translation: 'school', level: 'A2' },
    { word: 'libro', rank: 137, translation: 'book', level: 'A2' },
    { word: 'mÃºsica', rank: 138, translation: 'music', level: 'A2' },
    { word: 'pelÃ­cula', rank: 139, translation: 'movie', level: 'A2' },
    { word: 'problema', rank: 140, translation: 'problem', level: 'A2' },
    { word: 'idea', rank: 141, translation: 'idea', level: 'A2' },
    { word: 'momento', rank: 142, translation: 'moment', level: 'A2' },
    { word: 'hora', rank: 143, translation: 'hour/time', level: 'A2' },
    { word: 'semana', rank: 144, translation: 'week', level: 'A2' },
    { word: 'mes', rank: 145, translation: 'month', level: 'A2' },
    { word: 'maÃ±ana', rank: 146, translation: 'tomorrow/morning', level: 'A2' },
    { word: 'noche', rank: 147, translation: 'night', level: 'A2' },
    { word: 'tarde', rank: 148, translation: 'afternoon/late', level: 'A2' },
    { word: 'ayer', rank: 149, translation: 'yesterday', level: 'A2' },
    { word: 'hoy', rank: 150, translation: 'today', level: 'A2' }
  ]
};

// Rank 301-600 (A2-B1 Level)
exports.MID_FREQUENCY = [
  { word: 'gobierno', rank: 301, translation: 'government', level: 'A2' },
  { word: 'empresa', rank: 302, translation: 'company', level: 'A2' },
  { word: 'servicio', rank: 303, translation: 'service', level: 'A2' },
  { word: 'historia', rank: 304, translation: 'history/story', level: 'A2' },
  { word: 'desarrollo', rank: 305, translation: 'development', level: 'B1' },
  { word: 'proceso', rank: 306, translation: 'process', level: 'B1' },
  { word: 'sistema', rank: 307, translation: 'system', level: 'B1' },
  { word: 'programa', rank: 308, translation: 'program', level: 'B1' },
  { word: 'proyecto', rank: 309, translation: 'project', level: 'B1' },
  { word: 'resultado', rank: 310, translation: 'result', level: 'B1' },
  { word: 'situaciÃ³n', rank: 311, translation: 'situation', level: 'B1' },
  { word: 'relaciÃ³n', rank: 312, translation: 'relationship', level: 'B1' },
  { word: 'razÃ³n', rank: 313, translation: 'reason', level: 'B1' },
  { word: 'sentido', rank: 314, translation: 'sense/feeling', level: 'B1' },
  { word: 'manera', rank: 315, translation: 'way/manner', level: 'B1' },
  { word: 'forma', rank: 316, translation: 'form/way', level: 'B1' },
  { word: 'medio', rank: 317, translation: 'medium/means', level: 'B1' },
  { word: 'pÃºblico', rank: 318, translation: 'public', level: 'B1' },
  { word: 'privado', rank: 319, translation: 'private', level: 'B1' },
  { word: 'social', rank: 320, translation: 'social', level: 'B1' }
];

// Rank 601-1200 (B1 Level)
exports.HIGH_FREQUENCY = [
  { word: 'aunque', rank: 601, translation: 'although', level: 'B1' },
  { word: 'mientras', rank: 602, translation: 'while', level: 'B1' },
  { word: 'sino', rank: 603, translation: 'but rather', level: 'B1' },
  { word: 'apenas', rank: 604, translation: 'barely/hardly', level: 'B1' },
  { word: 'acaso', rank: 605, translation: 'perhaps', level: 'B1' },
  { word: 'ademÃ¡s', rank: 606, translation: 'moreover', level: 'B1' },
  { word: 'incluso', rank: 607, translation: 'even', level: 'B1' },
  { word: 'tampoco', rank: 608, translation: 'neither', level: 'B1' },
  { word: 'cualquier', rank: 609, translation: 'any', level: 'B1' },
  { word: 'cierto', rank: 610, translation: 'certain', level: 'B1' }
];

// Rank 1201-2000 (B2 Level)
exports.ADVANCED_FREQUENCY = [
  { word: 'imprescindible', rank: 1201, translation: 'essential', level: 'B2' },
  { word: 'fundamental', rank: 1202, translation: 'fundamental', level: 'B2' },
  { word: 'crucial', rank: 1203, translation: 'crucial', level: 'B2' },
  { word: 'esencial', rank: 1204, translation: 'essential', level: 'B2' },
  { word: 'relevante', rank: 1205, translation: 'relevant', level: 'B2' },
  { word: 'significativo', rank: 1206, translation: 'significant', level: 'B2' },
  { word: 'considerable', rank: 1207, translation: 'considerable', level: 'B2' },
  { word: 'sustancial', rank: 1208, translation: 'substantial', level: 'B2' },
  { word: 'notable', rank: 1209, translation: 'notable', level: 'B2' },
  { word: 'destacado', rank: 1210, translation: 'outstanding', level: 'B2' }
];

// Rank 2001-3500 (C1 Level)
exports.EXPERT_FREQUENCY = [
  { word: 'perspectiva', rank: 2001, translation: 'perspective', level: 'C1' },
  { word: 'enfoque', rank: 2002, translation: 'approach', level: 'C1' },
  { word: 'Ã¡mbito', rank: 2003, translation: 'field/scope', level: 'C1' },
  { word: 'contexto', rank: 2004, translation: 'context', level: 'C1' },
  { word: 'dimensiÃ³n', rank: 2005, translation: 'dimension', level: 'C1' },
  { word: 'paradigma', rank: 2006, translation: 'paradigm', level: 'C1' },
  { word: 'concepto', rank: 2007, translation: 'concept', level: 'C1' },
  { word: 'principio', rank: 2008, translation: 'principle', level: 'C1' },
  { word: 'criterio', rank: 2009, translation: 'criterion', level: 'C1' },
  { word: 'metodologÃ­a', rank: 2010, translation: 'methodology', level: 'C1' }
];

// CEFR Level mapping by word count
exports.LEVEL_RANGES = {
  A1: { min: 0, max: 300, frequencyRange: [1, 500] },
  A2: { min: 300, max: 600, frequencyRange: [500, 1500] },
  B1: { min: 600, max: 1200, frequencyRange: [1500, 3000] },
  B2: { min: 1200, max: 2000, frequencyRange: [3000, 5000] },
  C1: { min: 2000, max: 3500, frequencyRange: [5000, 10000] },
  C2: { min: 3500, max: Infinity, frequencyRange: [10000, Infinity] }
};

/**
 * Get all words up to a certain frequency rank
 */
exports.getWordsByRank = (maxRank) => {
  const allWords = [
    ...exports.ULTRA_HIGH_FREQUENCY.A1_ULTRA,
    ...exports.ULTRA_HIGH_FREQUENCY.A1_HIGH,
    ...exports.ULTRA_HIGH_FREQUENCY.A2_MID,
    ...exports.MID_FREQUENCY,
    ...exports.HIGH_FREQUENCY,
    ...exports.ADVANCED_FREQUENCY,
    ...exports.EXPERT_FREQUENCY
  ];
  
  return allWords.filter(w => w.rank <= maxRank);
};

/**
 * Get words for a specific CEFR level
 */
exports.getWordsByLevel = (level) => {
  const range = exports.LEVEL_RANGES[level];
  if (!range) return [];
  
  const allWords = [
    ...exports.ULTRA_HIGH_FREQUENCY.A1_ULTRA,
    ...exports.ULTRA_HIGH_FREQUENCY.A1_HIGH,
    ...exports.ULTRA_HIGH_FREQUENCY.A2_MID,
    ...exports.MID_FREQUENCY,
    ...exports.HIGH_FREQUENCY,
    ...exports.ADVANCED_FREQUENCY,
    ...exports.EXPERT_FREQUENCY
  ];
  
  return allWords.filter(w => 
    w.rank >= range.frequencyRange[0] && 
    w.rank <= range.frequencyRange[1]
  );
};

/**
 * Calculate level based on word count
 */
exports.calculateLevelByWordCount = (wordCount) => {
  for (const [level, range] of Object.entries(exports.LEVEL_RANGES)) {
    if (wordCount >= range.min && wordCount < range.max) {
      return level;
    }
  }
  return 'C2';
};

/**
 * Check if a word is known based on frequency rank and user level
 */
exports.isWordLikelyKnown = (wordRank, userLevel) => {
  const range = exports.LEVEL_RANGES[userLevel];
  if (!range) return false;
  
  return wordRank <= range.frequencyRange[1];
};

console.log('ðŸŽ¯ Extended Spanish Frequency System loaded - 1000+ words organized by CEFR levels!');

