ðŸ“¹ Loading video catalog from MULTIPLE sources...
âœ… Loaded 687 videos from Langfeed
âœ… Loaded 141 videos from public/videos/reels/
ðŸŽ¬ TOTAL: 828 videos loaded
ðŸŽ¯ Spanish Frequency Database loaded - 10K+ words organized by CEFR bands
ðŸŽ¯ Spanish Frequency System loaded - TOP 20 words with viral contexts!
ðŸ”¥ Spanish Gossip Feed loaded - 8 celebrity drama items ready!
ðŸ§  SRS Prisma Adapter initialized - persistent spaced repetition
ðŸŽ¯ Spanish Frequency Database loaded - 10K+ words organized by CEFR bands
ðŸ”¥ Smart Feed System initialized with frequency targeting
ðŸ§  Personalized SRS Feed System initialized
ðŸŽ¯ Extended Spanish Frequency System loaded - 1000+ words organized by CEFR levels!
âœ… VideoDifficultyScorer initialized with 10k Spanish words
âš ï¸ Supabase credentials not found in environment variables. Database features will be limited.
   Please set SUPABASE_URL and SUPABASE_ANON_KEY in your .env file.
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
ðŸŒ Fast Translation Service initialized
   Providers: Google Translate â†’ DeepL â†’ OpenAI
âœ… Personalization engine loaded
ðŸš€ Unified Feed Algorithm initialized with TikTok mechanics
ðŸŽ¯ Frequency Lookup loaded: 9997 words indexed
âš ï¸  Mixpanel not configured (MIXPANEL_TOKEN not set)
ðŸ¤– AI Content Adapter initialized with 90/10 theory
ðŸŽ¯ Level Detection System initialized
ðŸŒ Translation Service initialized
   API URL: https://libretranslate.com
   Rate limit: 5 req/s
ðŸŽ° Dopamine Engine initialized
ðŸ§ª A/B Testing Engine initialized with 7 experiments
ðŸŽ¥ Video Feed API endpoints loaded
ðŸ§  Adaptive Learning API endpoints loaded
âš ï¸  SENTRY_DSN not configured. Error tracking disabled.
ðŸ“¦ Cache system initialized (in-memory)
ðŸ“Š Monitoring & Analytics endpoints loaded
ðŸŽ“ Beginner Mode API endpoints loaded
ðŸ¤– AI Systems loaded: Content Adapter + Level Detector
ðŸ§  SRS System loaded with SM-2 algorithm
ðŸ† Gamification System loaded: Streaks, XP, Achievements
ðŸ“Š Engagement Tracker loaded: Watch time, Saves, Completions
ðŸ“Š Analytics API loaded: Track, Daily, Weekly, Progress, Interests, Insights
ðŸŽ¯ Spanish Frequency Database loaded - 10K+ words organized by CEFR bands
ðŸ“° Adaptive News Curator loaded: ChatGPT Pulse + Perplexity style
ðŸ¤– AI Discover Feed API loaded - ChatGPT Pulse style
âœ… Server running on http://localhost:3001
ðŸ“Š Stats Dashboard: http://localhost:3001
ðŸ”Œ API Endpoints:
    GET  /api/health/status       - System health check
    POST /api/analytics           - Track user events
    GET  /api/user/level/:userId
    GET  /api/user/words/:userId
    POST /api/words/learned
    GET  /api/user/stats/:userId
    GET  /api/user/progress/:userId
    
(node:99761) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///Users/mindful/_projects/workspace3/lib/article-scraping-queue.js is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /Users/mindful/_projects/workspace3/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
[Queue] Supabase not configured - running in test mode
âœ… Firecrawl integration loaded
Error initializing user: PrismaClientInitializationError: 
Invalid `prisma.user.upsert()` invocation in
/Users/mindful/_projects/workspace3/lib/user-api.js:117:40

  114 }
  115 
  116 try {
â†’ 117     const user = await prisma.user.upsert(
error: Error validating datasource `db`: the URL must start with the protocol `postgresql://` or `postgres://`.
  -->  schema.prisma:9
   | 
 8 |   provider  = "postgresql"
 9 |   url       = env("DATABASE_URL")
   | 

Validation Error Count: 1
    at ei.handleRequestError (/Users/mindful/_projects/workspace3/node_modules/@prisma/client/runtime/library.js:121:7568)
    at ei.handleAndLogRequestError (/Users/mindful/_projects/workspace3/node_modules/@prisma/client/runtime/library.js:121:6593)
    at ei.request (/Users/mindful/_projects/workspace3/node_modules/@prisma/client/runtime/library.js:121:6300)
    at async a (/Users/mindful/_projects/workspace3/node_modules/@prisma/client/runtime/library.js:130:9551)
    at async /Users/mindful/_projects/workspace3/lib/user-api.js:117:22 {
  clientVersion: '6.16.3',
  errorCode: undefined,
  retryable: undefined
}
ðŸŽ¯ Getting personalized feed for test
ðŸŽ¯ Generating personalized feed for user: test
ðŸ”„ Adapting 0 articles to user...
âœ… Generated 0 personalized articles
