[{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/app/api/feed/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/app/feed/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/components/FeedCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/components/ProgressDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/components/SRSReviewCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/components/VideoPlayer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/components/WordTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/lib/fallback-feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/lib/feed-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/lib/prisma.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/lib/redis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/lib/srs-algorithm.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userTimeZone' is assigned a value but never used.","line":135,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":135,"endColumn":72}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// SuperMemo SM-2 Algorithm with modifications for contextual learning\n// More forgiving than traditional SRS - focuses on long-term retention\n\nexport interface SRSReview {\n  quality: number // 0-5 rating of recall quality\n  responseTime: number // milliseconds\n}\n\nexport interface SRSCardState {\n  easeFactor: number\n  interval: number // days\n  repetitions: number\n}\n\n/**\n * Calculate next review parameters using modified SM-2 algorithm\n * @param currentState Current SRS card state\n * @param review User's review performance\n * @returns Updated SRS state and next review date\n */\nexport function calculateNextReview(\n  currentState: SRSCardState,\n  review: SRSReview\n): { state: SRSCardState; nextReviewAt: Date } {\n  const { quality } = review\n  let { easeFactor, interval, repetitions } = currentState\n\n  // Modified ease factor calculation (more forgiving)\n  easeFactor = Math.max(\n    1.3,\n    easeFactor + (0.1 - (5 - quality) * (0.08 + (5 - quality) * 0.02))\n  )\n\n  // Calculate new interval based on quality\n  if (quality < 3) {\n    // Failed review - reduce interval but don't reset completely (forgiveness)\n    repetitions = 0\n    interval = Math.max(1, Math.floor(interval * 0.5))\n  } else {\n    // Successful review - increase interval\n    repetitions += 1\n    if (repetitions === 1) {\n      interval = 1\n    } else if (repetitions === 2) {\n      interval = 3\n    } else {\n      interval = Math.ceil(interval * easeFactor)\n    }\n  }\n\n  // Cap maximum interval at 180 days\n  interval = Math.min(interval, 180)\n\n  // Calculate next review date\n  const nextReviewAt = new Date()\n  nextReviewAt.setDate(nextReviewAt.getDate() + interval)\n\n  return {\n    state: {\n      easeFactor,\n      interval,\n      repetitions,\n    },\n    nextReviewAt,\n  }\n}\n\n/**\n * Convert response time and accuracy to SM-2 quality rating\n * Fast correct answers = higher quality\n */\nexport function inferQuality(correct: boolean, responseTimeMs: number): number {\n  if (!correct) {\n    // Failed - but give partial credit for slow attempts\n    return responseTimeMs > 10000 ? 1 : 0\n  }\n\n  // Correct answer - quality based on speed\n  if (responseTimeMs < 1500) return 5 // Perfect recall\n  if (responseTimeMs < 3000) return 4 // Good recall\n  if (responseTimeMs < 5000) return 3 // Acceptable recall\n  return 3 // Slow but correct\n}\n\n/**\n * Calculate word confidence score based on exposure and performance\n * Used for adaptive difficulty matching\n */\nexport function calculateConfidence(\n  exposureCount: number,\n  correctReviews: number,\n  incorrectReviews: number,\n  lookupCount: number\n): number {\n  const totalReviews = correctReviews + incorrectReviews\n  \n  if (totalReviews === 0) {\n    // No reviews yet - confidence based on exposure\n    return Math.min(0.3, exposureCount * 0.05)\n  }\n\n  const accuracy = correctReviews / totalReviews\n  const exposureFactor = Math.min(1, exposureCount / 10)\n  const lookupPenalty = Math.max(0, 1 - lookupCount * 0.1)\n\n  return Math.min(1, accuracy * exposureFactor * lookupPenalty)\n}\n\n/**\n * Determine if content is at appropriate difficulty for user\n * Based on i+1 principle: 96% known words, 4% new\n */\nexport function isAppropriateLevel(\n  knownWordsPercentage: number,\n  targetPercentage: number = 0.96\n): {\n  appropriate: boolean\n  difficulty: 'too_easy' | 'perfect' | 'too_hard'\n} {\n  const tolerance = 0.05 // 5% tolerance\n\n  if (knownWordsPercentage >= targetPercentage + tolerance) {\n    return { appropriate: false, difficulty: 'too_easy' }\n  } else if (knownWordsPercentage < targetPercentage - tolerance * 2) {\n    return { appropriate: false, difficulty: 'too_hard' }\n  } else {\n    return { appropriate: true, difficulty: 'perfect' }\n  }\n}\n\n/**\n * Calculate optimal review time based on circadian rhythm and user patterns\n * Peak learning times: morning (9-11am) and evening (7-9pm)\n */\nexport function getOptimalReviewTime(nextReviewDate: Date, userTimeZone: string = 'UTC'): Date {\n  // For now, default to 9 AM in user's timezone\n  // In production, this would analyze user's historical engagement patterns\n  const optimalTime = new Date(nextReviewDate)\n  optimalTime.setHours(9, 0, 0, 0)\n  return optimalTime\n}\n\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/mindful/_projects/workspace3/language-learning-feed/lib/store.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]