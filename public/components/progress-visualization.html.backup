<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progress Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }

        .dashboard {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .chart-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .chart-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: #333;
        }

        .progress-bar {
            height: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: bold;
        }

        .streak-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .streak-day {
            aspect-ratio: 1;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .streak-day.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.1);
        }

        .streak-day.inactive {
            background: #f0f0f0;
            color: #ccc;
        }

        .streak-day.today {
            border: 3px solid #667eea;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .achievement {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 2px solid #f0f0f0;
            transition: all 0.3s ease;
        }

        .achievement.unlocked {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .achievement.locked {
            opacity: 0.5;
            filter: grayscale(100%);
        }

        .achievement-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .achievement-name {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .achievement-desc {
            font-size: 12px;
            color: #666;
        }

        .level-badge {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 25px;
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .xp-bar {
            background: #f0f0f0;
            height: 15px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, #FFD700, #FFA500);
            transition: width 1s ease;
        }

        .milestone {
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .milestone-icon {
            display: inline-block;
            margin-right: 10px;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
    </style>

    <!-- Sentry Error Tracking -->
    <meta name="sentry-dsn" content="">
    <meta name="sentry-environment" content="production">
    <meta name="sentry-traces-sample-rate" content="0.1">
    <meta name="app-version" content="1.0.0">
    <script>
    // Load Sentry AFTER page is fully interactive
    window.addEventListener('load', function() {
        setTimeout(function() {
            var script = document.createElement('script');
            script.src = '/lib/sentry-client.js';
            script.defer = true;
            document.head.appendChild(script);
        }, 2000); // Load 2 seconds after page load
    });
    </script>
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <div class="header">
            <h1>üìä Your Learning Progress</h1>
            <p>Track your journey to Spanish fluency</p>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üìö</div>
                <div class="stat-value" id="totalWords">0</div>
                <div class="stat-label">Words Learned</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üî•</div>
                <div class="stat-value" id="currentStreak">0</div>
                <div class="stat-label">Day Streak</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-value" id="totalXP">0</div>
                <div class="stat-label">Total XP</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üéØ</div>
                <div class="stat-value" id="accuracy">0%</div>
                <div class="stat-label">Accuracy</div>
            </div>
        </div>

        <!-- Level Progress -->
        <div class="chart-section">
            <div class="chart-title">üèÜ Level Progress</div>
            <div class="level-badge" id="currentLevel">Level 1</div>
            <div class="progress-bar">
                <div class="progress-fill" id="levelProgress" style="width: 0%">0%</div>
            </div>
            <p style="color: #666;">Next level at <span id="nextLevelXP">100</span> XP</p>
        </div>

        <!-- CEFR Level Progress -->
        <div class="chart-section">
            <div class="chart-title">üìà CEFR Level: <span id="cefrLevel">A1</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="cefrProgress" style="width: 0%">0%</div>
            </div>
            <p style="color: #666;">A1 ‚Üí A2 ‚Üí B1 ‚Üí B2 ‚Üí C1 ‚Üí C2</p>
        </div>

        <!-- Streak Calendar -->
        <div class="chart-section">
            <div class="chart-title">üìÖ Learning Streak Calendar</div>
            <div class="streak-calendar" id="streakCalendar">
                <!-- Generated by JavaScript -->
            </div>
        </div>

        <!-- Daily Goal -->
        <div class="chart-section">
            <div class="chart-title">üéØ Daily Goal: Learn 10 New Words</div>
            <div class="progress-bar">
                <div class="progress-fill" id="dailyGoal" style="width: 0%">0/10</div>
            </div>
        </div>

        <!-- Achievements -->
        <div class="chart-section">
            <div class="chart-title">üèÖ Achievements</div>
            <div class="achievements-grid" id="achievementsGrid">
                <!-- Generated by JavaScript -->
            </div>
        </div>

        <!-- Next Milestones -->
        <div class="chart-section">
            <div class="chart-title">üéØ Next Milestones</div>
            <div id="milestones">
                <!-- Generated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Load user progress from localStorage or API
        function loadProgress() {
            // Mock data - in production, fetch from API
            const progress = {
                totalWords: 127,
                currentStreak: 7,
                totalXP: 850,
                accuracy: 85,
                level: 5,
                nextLevelXP: 1000,
                currentXP: 850,
                cefrLevel: 'A2',
                cefrProgress: 30,
                dailyWordsLearned: 6,
                dailyGoal: 10,
                streakDays: [1, 1, 1, 0, 1, 1, 1], // Last 7 days
                achievements: [
                    { id: 'first_word', name: 'First Steps', icon: 'üë∂', unlocked: true },
                    { id: 'vocab_10', name: 'Getting Started', icon: 'üìù', unlocked: true },
                    { id: 'vocab_50', name: 'Word Collector', icon: 'üìö', unlocked: true },
                    { id: 'vocab_100', name: 'Vocabulary Builder', icon: 'üèóÔ∏è', unlocked: true },
                    { id: 'vocab_500', name: 'Polyglot Path', icon: 'üåü', unlocked: false },
                    { id: 'streak_3', name: 'Committed', icon: 'üî•', unlocked: true },
                    { id: 'streak_7', name: 'Week Warrior', icon: 'üí™', unlocked: true },
                    { id: 'streak_30', name: 'Monthly Master', icon: 'üéØ', unlocked: false },
                ],
                milestones: [
                    { type: 'vocabulary', current: 127, target: 200, icon: 'üìö' },
                    { type: 'streak', current: 7, target: 14, icon: 'üî•' },
                    { type: 'xp', current: 850, target: 1000, icon: '‚≠ê' }
                ]
            };

            return progress;
        }

        function updateDashboard() {
            const progress = loadProgress();

            // Update stats
            document.getElementById('totalWords').textContent = progress.totalWords;
            document.getElementById('currentStreak').textContent = progress.currentStreak;
            document.getElementById('totalXP').textContent = progress.totalXP;
            document.getElementById('accuracy').textContent = progress.accuracy + '%';

            // Update level
            document.getElementById('currentLevel').textContent = `Level ${progress.level}`;
            const levelProgress = Math.round((progress.currentXP / progress.nextLevelXP) * 100);
            document.getElementById('levelProgress').style.width = levelProgress + '%';
            document.getElementById('levelProgress').textContent = levelProgress + '%';
            document.getElementById('nextLevelXP').textContent = progress.nextLevelXP;

            // Update CEFR
            document.getElementById('cefrLevel').textContent = progress.cefrLevel;
            document.getElementById('cefrProgress').style.width = progress.cefrProgress + '%';
            document.getElementById('cefrProgress').textContent = progress.cefrProgress + '%';

            // Update daily goal
            const dailyProgress = Math.round((progress.dailyWordsLearned / progress.dailyGoal) * 100);
            document.getElementById('dailyGoal').style.width = dailyProgress + '%';
            document.getElementById('dailyGoal').textContent = `${progress.dailyWordsLearned}/${progress.dailyGoal}`;

            // Generate streak calendar
            generateStreakCalendar(progress.streakDays);

            // Generate achievements
            generateAchievements(progress.achievements);

            // Generate milestones
            generateMilestones(progress.milestones);
        }

        function generateStreakCalendar(streakDays) {
            const calendar = document.getElementById('streakCalendar');
            const days = ['M', 'T', 'W', 'T', 'F', 'S', 'S'];
            
            calendar.innerHTML = '';
            
            streakDays.forEach((active, index) => {
                const day = document.createElement('div');
                day.className = `streak-day ${active ? 'active' : 'inactive'}`;
                if (index === streakDays.length - 1) day.classList.add('today', 'pulse');
                day.textContent = days[index];
                calendar.appendChild(day);
            });
        }

        function generateAchievements(achievements) {
            const grid = document.getElementById('achievementsGrid');
            grid.innerHTML = '';

            achievements.forEach(achievement => {
                const div = document.createElement('div');
                div.className = `achievement ${achievement.unlocked ? 'unlocked' : 'locked'}`;
                div.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-desc">${achievement.unlocked ? 'Unlocked!' : 'Locked'}</div>
                `;
                grid.appendChild(div);
            });
        }

        function generateMilestones(milestones) {
            const container = document.getElementById('milestones');
            container.innerHTML = '';

            milestones.forEach(milestone => {
                const div = document.createElement('div');
                div.className = 'milestone';
                const remaining = milestone.target - milestone.current;
                div.innerHTML = `
                    <span class="milestone-icon">${milestone.icon}</span>
                    <strong>${remaining} more to reach ${milestone.target}</strong>
                    <div class="xp-bar">
                        <div class="xp-fill" style="width: ${(milestone.current / milestone.target) * 100}%"></div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Initialize dashboard
        updateDashboard();

        // Refresh every 30 seconds
        setInterval(updateDashboard, 30000);
    </script>
</body>
</html>

